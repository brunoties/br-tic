<ui:composition template="/WEB-INF/template/layout-padrao.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

	<ui:define name="titulo">Novo Atendimento</ui:define>

	<ui:define name="corpo">

		<h1>Novo Atendimento</h1>

		<h:form id="form-principal">

			<p:messages autoUpdate="true" />

			<p:toolbar style="margin-top: 20px">
				<p:toolbarGroup>
					<p:button value="Novo" outcome="/Atendimento/novo-atendimento" />
					<p:commandButton update="@form" value="Salvar" id="btnSalvar"
						action="#{novoAtendimentoBean.salvar}" />
				</p:toolbarGroup>

				<p:toolbarGroup align="right">
					<p:button value="Pesquisar"
						outcome="/Atendimento/pesquisar-atendimento" />
				</p:toolbarGroup>
			</p:toolbar>

			<p:panelGrid id="painel" columns="4"
				style="width: 100%; margin-top: 20px"
				columnClasses="rotulo, campo, rotulo, campo">

				<p:outputLabel value="Código" for="codigo" />
				<h:outputLabel id="codigo" value="123" />

				<p:outputLabel value="Usuário" for="usuario" />
				<h:outputLabel id="usuario" value="Usuário logado" />

				<p:outputLabel value="Cliente" for="cliente" />

				<h:panelGroup>
					<p:selectOneMenu value="#{novoAtendimentoBean.cliente}"
						id="cliente">
						<f:selectItem itemLabel="Selecione" itemValue=""/>
					</p:selectOneMenu>
					<p:button outcome="/Usuario/cadastro-usuario"
						icon="ui-icon-plusthick" title="Novo" style="text-align= right" />

				</h:panelGroup>
				<p:outputLabel value="Solicitante" for="solicitante" />
				<p:inputText id="solicitante" 
					value="#{novoAtendimentoBean.atendimento.usuarioAbertura.nome}" />

				<p:outputLabel value="Item de Configuração" for="itemConfiguracao" />
				<p:inputText id="itemConfiguracao" 
					value="#{novoAtendimentoBean.atendimento.itemConfiguracao}"/>

				<h:outputLabel />
				<h:outputLabel />

				<p:outputLabel value="Solicitação" for="solicitacao" />
				<p:inputText id="solicitacao" size="80" 
					value="#{novoAtendimentoBean.atendimento.solicitacao}" />

				<h:outputLabel />
				<h:outputLabel />

				<p:outputLabel value="Anexar PrintScreen do Erro" />

				<h:panelGroup>
					<p:fileUpload
						fileUploadListener="#{atendimentoBean.handleFileUpload}"
						mode="advanced" dragDropSupport="false" update="@form"
						sizeLimit="100000" fileLimit="1"
						allowTypes="/(\.|\/)(gif|jpe?g|png)$/" />

				</h:panelGroup>

				<h:outputLabel />
				<h:outputLabel />

				<p:outputLabel value="Observações" for="observacoes" />
				<p:inputTextarea id="observacoes" 
					value="#{novoAtendimentoBean.atendimento.observacao}"/>

			</p:panelGrid>

		</h:form>

	</ui:define>

</ui:composition>